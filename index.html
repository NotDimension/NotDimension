<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NotDimension</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body class="bg-[#0d0c0b] text-[#f0ebe7] min-h-screen relative">

<!-- Background video -->
<div class="fixed inset-0 z-[-10] overflow-hidden">
  <video autoplay muted loop playsinline class="w-full h-full object-cover">
    <source src="background.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="absolute inset-0 bg-black/40"></div>
</div>

<custom-navbar></custom-navbar>

<main class="relative z-10 max-w-6xl mx-auto px-4 py-12 space-y-12">

  <!-- Hero -->
  <section class="flex flex-col md:flex-row items-center gap-8 animate-fadeIn">
    <img src="images/profile.png" alt="Profile" class="rounded-full w-40 h-40 border-4 border-[#d6bfa7] shadow-lg pulse-animation">
    <div>
      <h1 class="text-5xl font-bold mb-2 text-[#e0c8af]">NotDimension</h1>
      <p class="text-xl mb-1 rounded-full bg-[#1a1816]/70 px-4 py-1 inline-block text-[#f0dbca]">Minecraft Server Developer</p>
      <p class="text-[#d4c3b6] text-sm">South Africa</p>
      <div class="flex gap-4 mt-3">
        <a href="https://discord.com/users/753556348784083024" target="_blank"><i data-feather="message-circle" class="text-[#d6bfa7]"></i></a>
        <a href="https://www.youtube.com/@NotDimension" target="_blank"><i data-feather="youtube" class="text-[#d6bfa7]"></i></a>
        <a href="https://steamcommunity.com/id/notdimension" target="_blank"><i data-feather="cpu" class="text-[#d6bfa7]"></i></a>
        <a href="https://namemc.com/profile/NotDimension.1" target="_blank"><i data-feather="box" class="text-[#d6bfa7]"></i></a>
      </div>
    </div>
  </section>

  <!-- About -->
  <section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
    <h2 class="text-3xl font-bold mb-4 text-[#e0c8af]">About Me</h2>
    <p class="text-[#f5efe9] text-lg leading-relaxed">
      Minecraft server developer specializing in plugin configuration, staff management, and community engagement. Experienced in growing servers from small communities to hundreds of members, focusing on creating good gameplay experience.
    </p>
  </section>

  <!-- Current Roles -->
  <section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
    <h2 class="text-3xl font-bold mb-4 text-[#e0c8af]">Current Roles</h2>
    <div class="grid md:grid-cols-3 gap-4">
      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/prism.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="Prism SMP">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">Prism SMP</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Owner (600 members)</p>
        <a href="https://discord.gg/cVBDxNxP5c" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>

      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/shatter.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="ShatterMC">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">ShatterMC</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Senior Admin (260 members)</p>
        <a href="https://discord.gg/sfSnvmtFfA" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>

      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/lunex.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="Lunex">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">Lunex</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Owner (Unreleased)</p>
        <a href="https://discord.gg/py7ZGUJKmt" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>

      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/ocean.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="OceanMC">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">OceanMC</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Owner (300 members)</p>
        <a href="https://discord.gg/YEgAUe8UMp" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>
    </div>
  </section>

  <!-- Previous Roles -->
  <section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
    <h2 class="text-3xl font-bold mb-4 text-[#e0c8af]">Previous Roles</h2>
    <div class="grid md:grid-cols-3 gap-4">
      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/steaky.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="SteakySMP">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">SteakySMP</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Co-Owner (1.2k members)</p>
        <a href="https://discord.gg/nGVcVzK6" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>

      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/nebular.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="Nebular SMP">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">Nebular SMP</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Overseer/Co-Owner (200 members)</p>
        <a href="https://discord.gg/YYwWMXxKAz" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>
      
      <div class="bg-[#1c1917]/70 p-4 rounded-lg hover:bg-[#262320]/70 transition">
        <img src="images/icons/smpfinder.png" class="w-16 h-16 rounded-full mb-2 mx-auto" alt="SMP Finder">
        <h3 class="text-xl font-semibold mb-2 text-center text-[#f5efe9]">SMP Finder</h3>
        <p class="mb-2 text-center text-[#d6bfa7]">Senior Moderator (25.3k members)</p>
        <a href="https://discord.gg/cuP8bPZgYv" class="flex items-center justify-center text-[#d6bfa7]" target="_blank">
          <i data-feather="link" class="mr-1 w-4 h-4 text-[#d6bfa7]"></i> Discord
        </a>
      </div>
    </div>
  </section>

  <!-- Skills & Responsibilities -->
  <section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
    <h2 class="text-3xl font-bold mb-4 text-[#e0c8af]">Skills & Responsibilities</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <h3 class="text-xl font-semibold mb-3 text-[#e0c8af]">Core Expertise</h3>
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="check-circle" class="text-[#d6bfa7] mr-2 mt-1"></i>Server Administration</li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-[#d6bfa7] mr-2 mt-1"></i>Staff Management</li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-[#d6bfa7] mr-2 mt-1"></i>Community Engagement</li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-[#d6bfa7] mr-2 mt-1"></i>Technical Skills</li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-[#d6bfa7] mr-2 mt-1"></i>Logs Management</li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-[#d6bfa7] mr-2 mt-1"></i>Graphic Design</li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-semibold mb-3 text-[#e0c8af]">Daily Tasks</h3>
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="zap" class="text-[#d6bfa7] mr-2 mt-1"></i>Server maintenance & monitoring</li>
          <li class="flex items-start"><i data-feather="zap" class="text-[#d6bfa7] mr-2 mt-1"></i>Staff coordination & training</li>
          <li class="flex items-start"><i data-feather="zap" class="text-[#d6bfa7] mr-2 mt-1"></i>Plugin installation & configuration</li>
          <li class="flex items-start"><i data-feather="zap" class="text-[#d6bfa7] mr-2 mt-1"></i>Community engagement & events</li>
          <li class="flex items-start"><i data-feather="zap" class="text-[#d6bfa7] mr-2 mt-1"></i>Server logs analysis & debugging</li>
          <li class="flex items-start"><i data-feather="zap" class="text-[#d6bfa7] mr-2 mt-1"></i>Creating graphics & promo materials</li>
        </ul>
      </div>
    </div>
  </section>

<!-- Vouches -->
<section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
  <h2 class="text-3xl font-bold mb-6 text-[#e0c8af]">Vouches</h2>

  <!-- Carousel -->
  <div id="vouch-carousel" class="relative bg-[#1c1917]/70 p-6 rounded-lg min-h-[14rem] overflow-hidden">
    <div id="vouch-slides" class="transition-opacity duration-500"></div>
    
    <!-- Navigation -->
    <button id="prevVouch" class="absolute left-2 top-1/2 -translate-y-1/2 bg-[#e0c8af] text-black w-8 h-8 rounded-full hover:bg-[#d6bfa7] transition">‹</button>
    <button id="nextVouch" class="absolute right-2 top-1/2 -translate-y-1/2 bg-[#e0c8af] text-black w-8 h-8 rounded-full hover:bg-[#d6bfa7] transition">›</button>
  </div>

  <div class="flex justify-center mt-6 gap-3">
    <button id="openVouchBtn" class="px-5 py-2 bg-[#e0c8af] text-black rounded-lg font-semibold hover:bg-[#d6bfa7] transition">
      Submit Your Vouch
    </button>
    <button id="openAdminBtn" class="px-5 py-2 bg-[#3a332d] text-[#f5efe9] rounded-lg font-semibold hover:bg-[#4a413a] transition">
      Admin Panel
    </button>
  </div>
</section>

<!-- Submit Vouch Modal -->
<div id="vouchModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
  <div class="bg-[#1c1917] p-6 rounded-xl w-96 shadow-xl text-[#f5efe9] max-h-[90vh] overflow-y-auto">
    <h3 class="text-xl font-bold mb-4">Submit a Vouch</h3>

    <label class="block mb-2">Username</label>
    <input id="vouchUser" class="w-full p-2 rounded bg-[#262320] mb-3 outline-none" placeholder="Your username">

    <label class="block mb-2">Discord User ID</label>
    <input id="vouchDiscordId" class="w-full p-2 rounded bg-[#262320] mb-1 outline-none" placeholder="123456789012345678">
    <p class="text-xs text-[#d6bfa7] mb-3">Enable Developer Mode in Discord, right-click your profile, Copy ID</p>

    <label class="block mb-2">Discord Avatar URL (Optional)</label>
    <input id="vouchAvatarUrl" class="w-full p-2 rounded bg-[#262320] mb-1 outline-none" placeholder="https://cdn.discordapp.com/avatars/...">
    <p class="text-xs text-[#d6bfa7] mb-3">Right-click your Discord avatar → Copy Image Address</p>

    <label class="block mb-2">Your Vouch</label>
    <textarea id="vouchText" class="w-full p-2 rounded bg-[#262320] h-24 outline-none" placeholder="Type your vouch..."></textarea>

    <div id="submitStatus" class="mt-3 text-sm"></div>

    <div class="flex justify-end gap-2 mt-4">
      <button id="closeModal" class="px-3 py-1 bg-[#3a332d] rounded hover:bg-[#4a413a] transition">Cancel</button>
      <button id="submitVouch" class="px-3 py-1 bg-[#e0c8af] text-black rounded hover:bg-[#d6bfa7] transition">Submit</button>
    </div>
  </div>
</div>

<!-- Admin Panel Modal -->
<div id="adminModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
  <div class="bg-[#1c1917] p-6 rounded-xl w-[90vw] max-w-4xl shadow-xl text-[#f5efe9] max-h-[90vh] overflow-y-auto">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold">Admin Panel - Moderate Vouches</h3>
      <button id="closeAdmin" class="text-2xl hover:text-[#d6bfa7]">×</button>
    </div>

    <div class="mb-4 p-3 bg-[#262320] rounded">
      <label class="block mb-2">Admin Password</label>
      <input type="password" id="adminPassword" class="w-full p-2 rounded bg-[#1c1917] outline-none" placeholder="Enter admin password">
      <button id="unlockAdmin" class="mt-2 px-4 py-2 bg-[#e0c8af] text-black rounded hover:bg-[#d6bfa7] transition">Unlock</button>
    </div>

    <div id="adminContent" class="hidden">
      <div class="mb-4 flex gap-2">
        <button id="showPending" class="px-4 py-2 bg-[#e0c8af] text-black rounded hover:bg-[#d6bfa7] transition">Pending</button>
        <button id="showApproved" class="px-4 py-2 bg-[#3a332d] rounded hover:bg-[#4a413a] transition">Approved</button>
      </div>

      <div id="pendingVouches" class="space-y-4"></div>
      <div id="approvedVouches" class="space-y-4 hidden"></div>
    </div>
  </div>
</div>

  <!-- Currently Working On -->
  <section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
    <h2 class="text-3xl font-bold mb-6 text-[#e0c8af]">Currently Working On</h2>
    <div class="flex flex-col md:flex-row gap-6">
      
      <div class="flex-1 bg-[#1c1917]/70 rounded-xl p-5 shadow-lg hover:bg-[#262320]/70 transition flex flex-col justify-between">
        <div>
          <h3 class="text-xl font-semibold mb-2 text-[#f5efe9]">MOOC Java Programming I & II</h3>
          <p class="text-[#d6bfa7]">Learning Java programming through online courses.</p>
          <p class="mt-3 font-bold text-[#d6bfa7]">ETA: 3 months</p>
        </div>
        <a href="https://java-programming.mooc.fi/" target="_blank" class="mt-4 flex items-center text-[#d6bfa7] hover:text-[#e0c8af]">
          <i data-feather="link" class="mr-2 w-4 h-4"></i> Course Link
        </a>
      </div>
      
      <div class="flex-1 bg-[#1c1917]/70 rounded-xl p-5 shadow-lg hover:bg-[#262320]/70 transition flex flex-col justify-between">
        <div>
          <h3 class="text-xl font-semibold mb-2 text-[#f5efe9]">Object-Oriented Java Course</h3>
          <p class="text-[#d6bfa7]">Developing object-oriented programming skills in Java.</p>
          <p class="mt-3 font-bold text-[#d6bfa7]">ETA: 2 months</p>
        </div>
        <a href="https://www.coursera.org/learn/object-oriented-java" target="_blank" class="mt-4 flex items-center text-[#d6bfa7] hover:text-[#e0c8af]">
          <i data-feather="link" class="mr-2 w-4 h-4"></i> Course Link
        </a>
      </div>

    </div>
  </section>

  <!-- Socials -->
  <section class="frosted-glass rounded-lg p-6 shadow-xl animate-fadeIn">
    <h2 class="text-3xl font-bold mb-6 text-[#e0c8af]">Socials</h2>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
      <a href="https://discord.com/users/753556348784083024" target="_blank" class="bg-[#1c1917]/70 hover:bg-[#262320]/70 p-4 rounded-lg flex items-center transition">
        <i data-feather="message-circle" class="text-[#d6bfa7] mr-3"></i> Discord
      </a>
      <a href="https://www.youtube.com/@NotDimension" target="_blank" class="bg-[#1c1917]/70 hover:bg-[#262320]/70 p-4 rounded-lg flex items-center transition">
        <i data-feather="youtube" class="text-[#d6bfa7] mr-3"></i> YouTube
      </a>
      <a href="https://open.spotify.com/user/31z2sjm4nmep3ecjeibav25czjsa" target="_blank" class="bg-[#1c1917]/70 hover:bg-[#262320]/70 p-4 rounded-lg flex items-center transition">
        <i data-feather="music" class="text-[#d6bfa7] mr-3"></i> Spotify
      </a>
      <a href="https://steamcommunity.com/id/notdimension" target="_blank" class="bg-[#1c1917]/70 hover:bg-[#262320]/70 p-4 rounded-lg flex items-center transition">
        <i data-feather="cpu" class="text-[#d6bfa7] mr-3"></i> Steam
      </a>
      <a href="https://www.roblox.com/users/665215157/profile" target="_blank" class="bg-[#1c1917]/70 hover:bg-[#262320]/70 p-4 rounded-lg flex items-center transition">
        <i data-feather="box" class="text-[#d6bfa7] mr-3"></i> Roblox
      </a>
      <a href="https://namemc.com/profile/NotDimension.1" target="_blank" class="bg-[#1c1917]/70 hover:bg-[#262320]/70 p-4 rounded-lg flex items-center transition">
        <i data-feather="user" class="text-[#d6bfa7] mr-3"></i> NameMC
      </a>
    </div>
  </section>

</main>

<custom-footer></custom-footer>

<script src="components/navbar.js"></script>
<script src="components/footer.js"></script>
<script src="script.js"></script>
<script>
  feather.replace();

  // Vouch System with Moderation
  const ADMIN_PASSWORD = 'notdim2024'; // Change this!
  let currentSlide = 0;
  let approvedVouches = [];

  // Load approved vouches
  async function loadApprovedVouches() {
    try {
      const result = await window.storage.list('vouch:approved:', true);
      if (result && result.keys) {
        approvedVouches = [];
        for (const key of result.keys) {
          try {
            const data = await window.storage.get(key, true);
            if (data) {
              approvedVouches.push(JSON.parse(data.value));
            }
          } catch (e) {
            console.log('Vouch not found:', key);
          }
        }
        displayCarousel();
      }
    } catch (e) {
      console.log('No vouches yet');
      displayCarousel();
    }
  }

  // Display carousel
  function displayCarousel() {
    const container = document.getElementById('vouch-slides');
    
    if (approvedVouches.length === 0) {
      container.innerHTML = '<p class="text-center text-[#d6bfa7]">No vouches yet. Be the first to submit one!</p>';
      return;
    }

    const vouch = approvedVouches[currentSlide];
    const avatarUrl = vouch.avatarUrl || `https://cdn.discordapp.com/embed/avatars/${parseInt(vouch.discordId || '0') % 5}.png`;
    
    container.innerHTML = `
      <div class="flex items-start gap-4">
        <img src="${avatarUrl}" alt="${vouch.username}" 
             class="w-16 h-16 rounded-full border-2 border-[#d6bfa7]"
             onerror="this.src='https://cdn.discordapp.com/embed/avatars/0.png'">
        <div class="flex-1">
          <h4 class="font-semibold text-[#f5efe9]">${vouch.username}</h4>
          <p class="text-[#d6bfa7] text-sm mt-2">"${vouch.text}"</p>
          <p class="text-xs text-[#a89684] mt-2">${new Date(vouch.timestamp).toLocaleDateString()}</p>
        </div>
      </div>
      <div class="text-center mt-4 text-sm text-[#d6bfa7]">${currentSlide + 1} / ${approvedVouches.length}</div>
    `;
  }

  // Carousel navigation
  document.getElementById('prevVouch').addEventListener('click', () => {
    if (approvedVouches.length > 0) {
      currentSlide = (currentSlide - 1 + approvedVouches.length) % approvedVouches.length;
      displayCarousel();
    }
  });

  document.getElementById('nextVouch').addEventListener('click', () => {
    if (approvedVouches.length > 0) {
      currentSlide = (currentSlide + 1) % approvedVouches.length;
      displayCarousel();
    }
  });

  // Submit vouch modal
  const vouchModal = document.getElementById('vouchModal');
  const adminModal = document.getElementById('adminModal');

  document.getElementById('openVouchBtn').addEventListener('click', () => {
    vouchModal.classList.remove('hidden');
    vouchModal.classList.add('flex');
  });

  document.getElementById('closeModal').addEventListener('click', () => {
    vouchModal.classList.add('hidden');
    vouchModal.classList.remove('flex');
  });

  document.getElementById('submitVouch').addEventListener('click', async () => {
    const username = document.getElementById('vouchUser').value.trim();
    const discordId = document.getElementById('vouchDiscordId').value.trim();
    const avatarUrl = document.getElementById('vouchAvatarUrl').value.trim();
    const text = document.getElementById('vouchText').value.trim();
    const status = document.getElementById('submitStatus');

    if (!username || !text) {
      status.innerHTML = '<span class="text-red-400">Please fill in username and vouch text!</span>';
      return;
    }

    const vouch = {
      id: Date.now(),
      username,
      discordId,
      avatarUrl,
      text,
      timestamp: Date.now(),
      status: 'pending'
    };

    try {
      await window.storage.set(`vouch:pending:${vouch.id}`, JSON.stringify(vouch), true);
      status.innerHTML = '<span class="text-green-400">Vouch submitted! Awaiting approval.</span>';
      
      setTimeout(() => {
        vouchModal.classList.add('hidden');
        vouchModal.classList.remove('flex');
        document.getElementById('vouchUser').value = '';
        document.getElementById('vouchDiscordId').value = '';
        document.getElementById('vouchAvatarUrl').value = '';
        document.getElementById('vouchText').value = '';
        status.innerHTML = '';
      }, 2000);
    } catch (e) {
      status.innerHTML = '<span class="text-red-400">Error submitting vouch. Please try again.</span>';
    }
  });

  // Admin Panel
  document.getElementById('openAdminBtn').addEventListener('click', () => {
    adminModal.classList.remove('hidden');
    adminModal.classList.add('flex');
  });

  document.getElementById('closeAdmin').addEventListener('click', () => {
    adminModal.classList.add('hidden');
    adminModal.classList.remove('flex');
    document.getElementById('adminContent').classList.add('hidden');
    document.getElementById('adminPassword').value = '';
  });

  document.getElementById('unlockAdmin').addEventListener('click', () => {
    const password = document.getElementById('adminPassword').value;
    if (password === ADMIN_PASSWORD) {
      document.getElementById('adminContent').classList.remove('hidden');
      loadPendingVouches();
    } else {
      alert('Incorrect password!');
    }
  });

  // Load pending vouches
  async function loadPendingVouches() {
    try {
      const result = await window.storage.list('vouch:pending:', true);
      const container = document.getElementById('pendingVouches');
      
      if (!result || !result.keys || result.keys.length === 0) {
        container.innerHTML = '<p class="text-center text-[#d6bfa7]">No pending vouches</p>';
        return;
      }

      container.innerHTML = '';
      for (const key of result.keys) {
        try {
          const data = await window.storage.get(key, true);
          if (data) {
            const vouch = JSON.parse(data.value);
            const avatarUrl = vouch.avatarUrl || `https://cdn.discordapp.com/embed/avatars/${parseInt(vouch.discordId || '0') % 5}.png`;
            
            const vouchCard = document.createElement('div');
            vouchCard.className = 'bg-[#262320] p-4 rounded-lg';
            vouchCard.innerHTML = `
              <div class="flex items-start gap-4">
                <img src="${avatarUrl}" alt="${vouch.username}" 
                     class="w-12 h-12 rounded-full border-2 border-[#d6bfa7]"
                     onerror="this.src='https://cdn.discordapp.com/embed/avatars/0.png'">
                <div class="flex-1">
                  <h4 class="font-semibold text-[#f5efe9]">${vouch.username}</h4>
                  <p class="text-xs text-[#a89684]">Discord ID: ${vouch.discordId || 'Not provided'}</p>
                  <p class="text-[#d6bfa7] text-sm mt-2">"${vouch.text}"</p>
                  <p class="text-xs text-[#a89684] mt-2">${new Date(vouch.timestamp).toLocaleString()}</p>
                </div>
              </div>
              <div class="flex gap-2 mt-3">
                <button onclick="approveVouch('${vouch.id}')" class="px-3 py-1 bg-green-600 rounded hover:bg-green-700 transition">Approve</button>
                <button onclick="rejectVouch('${vouch.id}')" class="px-3 py-1 bg-red-600 rounded hover:bg-red-700 transition">Reject</button>
              </div>
            `;
            container.appendChild(vouchCard);
          }
        } catch (e) {
          console.log('Error loading vouch:', key);
        }
      }
    } catch (e) {
      document.getElementById('pendingVouches').innerHTML = '<p class="text-center text-[#d6bfa7]">No pending vouches</p>';
    }
  }

  // Load approved vouches in admin
  async function loadApprovedVouchesAdmin() {
    try {
      const result = await window.storage.list('vouch:approved:', true);
      const container = document.getElementById('approvedVouches');
      
      if (!result || !result.keys || result.keys.length === 0) {
        container.innerHTML = '<p class="text-center text-[#d6bfa7]">No approved vouches</p>';
        return;
      }

      container.innerHTML = '';
      for (const key of result.keys) {
        try {
          const data = await window.storage.get(key, true);
          if (data) {
            const vouch = JSON.parse(data.value);
            const avatarUrl = vouch.avatarUrl || `https://cdn.discordapp.com/embed/avatars/${parseInt(vouch.discordId || '0') % 5}.png`;
            
            const vouchCard = document.createElement('div');
            vouchCard.className = 'bg-[#262320] p-4 rounded-lg';
            vouchCard.innerHTML = `
              <div class="flex items-start gap-4">
                <img src="${avatarUrl}" alt="${vouch.username}" 
                     class="w-12 h-12 rounded-full border-2 border-[#d6bfa7]"
                     onerror="this.src='https://cdn.discordapp.com/embed/avatars/0.png'">
                <div class="flex-1">
                  <h4 class="font-semibold text-[#f5efe9]">${vouch.username}</h4>
                  <p class="text-[#d6bfa7] text-sm mt-2">"${vouch.text}"</p>
                  <p class="text-xs text-[#a89684] mt-2">${new Date(vouch.timestamp).toLocaleString()}</p>
                </div>
              </div>
              <div class="flex gap-2 mt-3">
                <button onclick="deleteVouch('${vouch.id}')" class="px-3 py-1 bg-red-600 rounded hover:bg-red-700 transition">Delete</button>
              </div>
            `;
            container.appendChild(vouchCard);
          }
        } catch (e) {
          console.log('Error loading vouch:', key);
        }
      }
    } catch (e) {
      document.getElementById('approvedVouches').innerHTML = '<p class="text-center text-[#d6bfa7]">No approved vouches</p>';
    }
  }

  // Approve vouch
  window.approveVouch = async function(id) {
    try {
      const data = await window.storage.get(`vouch:pending:${id}`, true);
      if (data) {
        const vouch = JSON.parse(data.value);
        vouch.status = 'approved';
        
        await window.storage.set(`vouch:approved:${id}`, JSON.stringify(vouch), true);
        await window.storage.delete(`vouch:pending:${id}`, true);
        
        loadPendingVouches();
        loadApprovedVouches();
      }
    } catch (e) {
      alert('Error approving vouch');
    }
  };

  // Reject vouch
  window.rejectVouch = async function(id) {
    try {
      await window.storage.delete(`vouch:pending:${id}`, true);
      loadPendingVouches();
    } catch (e) {
      alert('Error rejecting vouch');
    }
  };

  // Delete approved vouch
  window.deleteVouch = async function(id) {
    if (confirm('Are you sure you want to delete this vouch?')) {
      try {
        await window.storage.delete(`vouch:approved:${id}`, true);
        loadApprovedVouchesAdmin();
        loadApprovedVouches();
      } catch (e) {
        alert('Error deleting vouch');
      }
    }
  };

  // Switch between pending and approved tabs
  document.getElementById('showPending').addEventListener('click', () => {
    document.getElementById('pendingVouches').classList.remove('hidden');
    document.getElementById('approvedVouches').classList.add('hidden');
    document.getElementById('showPending').className = 'px-4 py-2 bg-[#e0c8af] text-black rounded hover:bg-[#d6bfa7] transition';
    document.getElementById('showApproved').className = 'px-4 py-2 bg-[#3a332d] rounded hover:bg-[#4a413a] transition';
    loadPendingVouches();
  });

  document.getElementById('showApproved').addEventListener('click', () => {
    document.getElementById('pendingVouches').classList.add('hidden');
    document.getElementById('approvedVouches').classList.remove('hidden');
    document.getElementById('showApproved').className = 'px-4 py-2 bg-[#e0c8af] text-black rounded hover:bg-[#d6bfa7] transition';
    document.getElementById('showPending').className = 'px-4 py-2 bg-[#3a332d] rounded hover:bg-[#4a413a] transition';
    loadApprovedVouchesAdmin();
  });

  // Initialize
  loadApprovedVouches();

  // Auto-rotate carousel every 5 seconds
  setInterval(() => {
    if (approvedVouches.length > 1) {
      currentSlide = (currentSlide + 1) % approvedVouches.length;
      displayCarousel();
    }
  }, 5000);
